var chart4 = echarts.init(document.getElementById('main4'));
var cloud_countruct_data = {
    '葡萄酒':{
        'ptt':{
            'week1':{
                "丁香": "17",
                "包": "17",
                "肉桂": "17",
                "滷": "17",
                "柳橙": "17",
                "蘋果": "17",
                "比較": "17",
                "克": "17",
                "棒": "17",
                "手磨": "17",
                "後": "2",
                "白砂糖": "17",
                "0.1": "17",
                "倒入": "17",
                "果汁": "17",
                "聖誕": "17",
                "粉末": "17",
                "乙": "17",
                "粒": "17",
                "市集": "17",
                "酒莊": "4",
                "歐": "4",
                "應該": "4",
                "年度": "4",
                "以上": "4",
                "預算": "4",
                "等級": "4",
                "考慮": "4",
                "以內": "4",
                "請問": "2",
                "年份": "4",
                "左右": "4",
                "15": "4",
                "年": "4",
                "價差": "4",
                "目前": "4",
                "莊": "4",
                "問題": "4",
                "長輩": "4",
                "找": "2",
                "好": "2",
                "最近": "2",
                "買": "2",
                "地方": "2",
                "酒": "2",
                "兩種": "2",
                "版上": "2",
                "沒買": "2",
                "半天": "2",
                "不賴": "2",
                "蕭邦": "2",
                "推薦": "2",
                "朋友": "2",
                "調酒": "2",
                "直飲": "2",
                "冷凍": "2",
                "林": "2",
                "附近": "2",
                "酒專": "2",
                "試試": "2",
                "再": "2",
                "覺得": "2",
                "克里姆林": "2",
                "以前": "2",
                "平常": "2",
                "行情": "2",
                "查不太到": "2",
                "上網": "2",
                "常見": "2",
                "似乎": "2",
                "兩款": "2",
                "元": "2",
                "3200": "2",
                "一組": "2",
                "公升": "2",
                "藍瓶": "2",
                "黑瓶": "2"
            },
            'week2':{
                "發文": "3",
                "前輩": "3",
                "版友": "3",
                "丟掉": "3",
                "酒版": "3",
                "第一次": "3",
                "香檳": "3",
                "藍帶": "3",
                "Martell": "3",
                "指教": "3",
                "請": "3",
                "價": "3",
                "有沒有": "3",
                "知道": "3",
                "老酒": "3",
                "一些": "3",
                "發現": "3",
                "輪到": "3",
                "終於": "3",
                "想不到": "3",
                "Day": "2",
                "啤酒": "2",
                "黑啤": "2",
                "啤": "2",
                "瓶身": "2",
                "順口": "2",
                "合照": "2",
                "紀錄": "2",
                "苦": "2",
                "01": "2",
                "配": "2",
                "獲得": "2",
                "買": "2",
                "一張": "2",
                "聖誕": "2",
                "倒數": "2",
                "苦味": "2",
                "時間": "2",
                "喝完": "2",
                "鐵鏽": "2"
            },
        },
        'fb':{
            'week1':{
                "葡萄酒": "13",
                "年": "11",
                "韓國": "9",
                "市場": "9",
                "約": "9",
                "台幣": "9",
                "新": "9",
                "數據": "9",
                "億元": "9",
                "億美元": "9",
                "進口": "9",
                "總值": "9",
                "顯示": "9",
                "意大利": "9",
                "美國": "9",
                "56": "9",
                "法國": "9",
                "智利": "9",
                "台灣": "9",
                "增長": "9",
                "粉絲團": "3",
                "喝": "3",
                "購買": "3",
                "直接": "3",
                "請": "3",
                "香": "3",
                "夢幻": "3",
                "不甜": "3",
                "完全": "3",
                "微酸": "3",
                "濃郁": "3",
                "香甜": "3",
                "酒精味": "3",
                "很足": "3",
                "香氣": "3",
                "時": "3",
                "開瓶": "3",
                "很漂亮": "3",
                "濃濃": "3",
                "西班牙": "2",
                "集團": "2",
                "家族": "2",
                "之星": "2",
                "橡木桶": "2",
                "國旗": "2",
                "果香": "2",
                "釀酒": "2",
                "CVNE": "2",
                "單寧": "2",
                "豐富": "2",
                "作": "2",
                "香滑": "2",
                "標識": "2",
                "底色": "2",
                "酒莊": "2",
                "融合": "2",
                "18": "2",
                "裝瓶": "2",
                "影響": "1",
                "今天": "1",
                "小寒": "1",
                "受": "1",
                "愉悅": "1",
                "真": "1",
                "心情": "1",
                "工作": "1",
                "享受": "1",
                "一大": "1",
                "真是": "1",
                "酒精": "1",
                "無": "1",
                "來杯": "1",
                "上班": "1",
                "節氣": "1",
                "寒冬": "1"
            },
            'week2':{
                "葡萄酒": "13",
                "年": "11",
                "韓國": "9",
                "市場": "9",
                "約": "9",
                "台幣": "9",
                "新": "9",
                "數據": "9",
                "億元": "9",
                "億美元": "9",
                "進口": "9",
                "總值": "9",
                "顯示": "9",
                "意大利": "9",
                "美國": "9",
                "56": "9",
                "法國": "9",
                "智利": "9",
                "台灣": "9",
                "增長": "9",
                "粉絲團": "3",
                "喝": "3",
                "購買": "3",
                "直接": "3",
                "請": "3",
                "香": "3",
                "夢幻": "3",
                "不甜": "3",
                "完全": "3",
                "微酸": "3",
                "濃郁": "3",
                "香甜": "3",
                "酒精味": "3",
                "很足": "3",
                "香氣": "3",
                "時": "3",
                "開瓶": "3",
                "很漂亮": "3",
                "濃濃": "3",
                "西班牙": "2",
                "集團": "2",
                "家族": "2",
                "之星": "2",
                "橡木桶": "2",
                "國旗": "2",
                "果香": "2",
                "釀酒": "2",
                "CVNE": "2",
                "單寧": "2",
                "豐富": "2",
                "作": "2",
                "香滑": "2",
                "標識": "2",
                "底色": "2",
                "酒莊": "2",
                "融合": "2",
                "18": "2",
                "裝瓶": "2",
                "影響": "1",
                "今天": "1",
                "小寒": "1",
                "受": "1",
                "愉悅": "1",
                "真": "1",
                "心情": "1",
                "工作": "1",
                "享受": "1",
                "一大": "1",
                "真是": "1",
                "酒精": "1",
                "無": "1",
                "來杯": "1",
                "上班": "1",
                "節氣": "1",
                "寒冬": "1"
            },
        }
    },
    '清酒':{
        'ptt':{
            'week1':{
                '目前沒有資料哦！':'10'
            },
            'week2':{
                "杯子": "3",
                "喇": "3",
                "合適": "3",
                "集中": "3",
                "這種": "3",
                "耶": "3",
                "QQ": "3",
                "裝": "3",
                "烈酒": "3",
                "真的": "3",
                "朋友": "3",
                "手上": "3",
                "輕": "3",
                "好像": "3",
                "酒杯": "3",
                "想想": "3",
                "裝也行": "3",
                "現在": "3",
                "要用": "3",
                "之前": "3",
                "Day": "1",
                "黑啤": "1",
                "啤": "1",
                "合照": "1",
                "瓶身": "1",
                "順口": "1",
                "紀錄": "1",
                "一張": "1",
                "苦": "1",
                "01": "1",
                "獲得": "1",
                "聖誕": "1",
                "配": "1",
                "倒數": "1",
                "XD": "1",
                "忘": "1",
                "一瓶": "1",
                "24": "1",
                "最後": "1",
                "時間": "1"
            },
        },
        'fb':{
            'week1':{
                "有人": "1",
                "一直": "1",
                "部分": "1",
                "名稱": "1",
                "嫌將": "1",
                "廣告": "1",
                "避免": "1",
                "打廣告": "1",
                "最近": "1",
                "訂過": "1",
                "臉書": "1",
                "無心": "1",
                "清酒": "1",
                "配制": "1",
                "月": "1",
                "這家": "1",
                "遮蔽": "1"
            },
            'week2':{
                '目前沒有資料哦！':'10'
            }
        }
    },
    '威士忌':{
        'ptt':{
            'week1':{
                "分享": "3",
                "希望": "3",
                "瓶": "3",
                "開瓶": "3",
                "嘉義": "3",
                "Sent": "3",
                "發展": "3",
                "許願": "3",
                "喝到": "3",
                "款項": "3",
                "需要": "3",
                "面交": "3",
                "嘉義人": "3",
                "喔": "3",
                "line": "3",
                "ID": "3",
                "JPTT": "3",
                "from": "3",
                "朝向": "3",
                "on": "3",
                "蘇格登": "1",
                "x": "1",
                "38": "1",
                "折抵": "1",
                "品酩": "1",
                "現場": "1",
                "500": "1",
                "消費": "1",
                "風味": "1",
                "珍稀": "1",
                "原酒": "1",
                "1200": "1",
                "18": "1",
                "煙燻": "1",
                "酥": "1",
                "千層": "1",
                "桂圓": "1",
                "法式": "1",
                "已": "1",
                "層次": "1"
            },
            'week2':{
                "2012": "2",
                "前輩": "2",
                "原酒": "2",
                "版上": "2",
                "單一": "2",
                "純麥": "2",
                "預算": "2",
                "左右": "2",
                "寫": "2",
                "瓶子": "2",
                "版": "2",
                "喔": "2",
                "我要": "2",
                "寫個": "2",
                "慘字": "2",
                "a": "2",
                "斯凱島": "2",
                "杯子": "1",
                "清酒": "1",
                "這種": "1",
                "裝": "1",
                "說": "1",
                "合適": "1",
                "烈酒": "1",
                "拿來": "1",
                "真的": "1",
                "喇": "1",
                "集中": "1",
                "酒杯": "1",
                "手上": "1",
                "好像": "1",
                "應該": "1",
                "想想": "1",
                "要用": "1",
                "現在": "1",
                "輕": "1",
                "太小": "1",
                "餐廳": "1",
                "蘭姆": "1",
                "尾牙": "1",
                "桶": "1",
                "覺得": "1",
                "疫情": "1",
                "感覺": "1",
                "12": "1",
                "味道": "1",
                "公司": "1",
                "滑順": "1",
                "順帶": "1",
                "豆腐": "1",
                "海鮮": "1",
                "蟹黃": "1",
                "這道": "1",
                "一提": "1",
                "保有": "1",
                "品項": "1",
                "整體": "1"
            },
        },
        'fb':{
            'week1':{
                "粉絲團": "1",
                "葡萄酒": "1",
                "喝": "1",
                "購買": "1",
                "直接": "1",
                "請": "1",
                "香": "1",
                "夢幻": "1",
                "不甜": "1",
                "完全": "1",
                "微酸": "1",
                "濃郁": "1",
                "香甜": "1",
                "酒精味": "1",
                "很足": "1",
                "香氣": "1",
                "時": "1",
                "開瓶": "1",
                "很漂亮": "1",
                "濃濃": "1"
            },
            'week2':{
                "粉絲團": "1",
                "葡萄酒": "1",
                "喝": "1",
                "購買": "1",
                "直接": "1",
                "請": "1",
                "香": "1",
                "夢幻": "1",
                "不甜": "1",
                "完全": "1",
                "微酸": "1",
                "濃郁": "1",
                "香甜": "1",
                "酒精味": "1",
                "很足": "1",
                "香氣": "1",
                "時": "1",
                "開瓶": "1",
                "很漂亮": "1",
                "濃濃": "1"
            },
        }
    },
    '啤酒':{
        'ptt':{
            'week1':{
                '目前沒有資料哦！':'10'
            },
            'week2':{
                "Day": "10",
                "黑啤": "10",
                "啤": "10",
                "合照": "10",
                "瓶身": "10",
                "順口": "10",
                "紀錄": "10",
                "一張": "10",
                "苦": "10",
                "01": "10",
                "獲得": "10",
                "聖誕": "10",
                "配": "10",
                "倒數": "10",
                "XD": "10",
                "忘": "10",
                "一瓶": "10",
                "24": "10",
                "最後": "10",
                "時間": "10",
                "杯子": "1",
                "喇": "1",
                "合適": "1",
                "集中": "1",
                "這種": "1",
                "耶": "1",
                "QQ": "1",
                "裝": "1",
                "烈酒": "1",
                "真的": "1",
                "朋友": "1",
                "手上": "1",
                "輕": "1",
                "好像": "1",
                "酒杯": "1",
                "想想": "1",
                "裝也行": "1",
                "現在": "1",
                "要用": "1",
                "之前": "1"
            },
        },
        'fb':{
            'week1':{
                "葡萄酒": "1",
                "韓國": "1",
                "市場": "1",
                "約": "1",
                "年": "1",
                "台幣": "1",
                "新": "1",
                "數據": "1",
                "億元": "1",
                "億美元": "1",
                "進口": "1",
                "總值": "1",
                "顯示": "1",
                "意大利": "1",
                "美國": "1",
                "56": "1",
                "法國": "1",
                "智利": "1",
                "台灣": "1",
                "增長": "1"
            },
            'week2':{
                "葡萄酒": "1",
                "韓國": "1",
                "市場": "1",
                "約": "1",
                "年": "1",
                "台幣": "1",
                "新": "1",
                "數據": "1",
                "億元": "1",
                "億美元": "1",
                "進口": "1",
                "總值": "1",
                "顯示": "1",
                "意大利": "1",
                "美國": "1",
                "56": "1",
                "法國": "1",
                "智利": "1",
                "台灣": "1",
                "增長": "1"
            },
        }
    },
    '伏特加':{
        'ptt':{
            'week1':{
                "好": "2",
                "最近": "2",
                "買": "2",
                "地方": "2",
                "酒": "2",
                "兩種": "2",
                "版上": "2",
                "請問": "2",
                "沒買": "2",
                "半天": "2",
                "找": "2",
                "不賴": "2",
                "蕭邦": "2",
                "推薦": "2",
                "朋友": "2",
                "調酒": "2",
                "直飲": "2",
                "後": "2",
                "冷凍": "2",
                "林": "2",
                "附近": "2",
                "酒專": "2",
                "試試": "2",
                "再": "2",
                "覺得": "2",
                "克里姆林": "2",
                "以前": "2",
                "平常": "2",
                "行情": "2",
                "查不太到": "2",
                "上網": "2",
                "常見": "2",
                "似乎": "2",
                "兩款": "2",
                "元": "2",
                "3200": "2",
                "一組": "2",
                "公升": "2",
                "藍瓶": "2",
                "黑瓶": "2"
            },
            'week2':{
                '目前沒有資料哦！':'10'
            },
        },
        'fb':{
            'week1':{
                '目前沒有資料哦！':'10'
            },
            'week2':{
                '目前沒有資料哦！':'10'
            },
        }
    }
}

// console.log(cloud_countruct_data)

$(document).ready(function(){

    wordChart('威士忌','ptt','week1')

    g4_2_change('威士忌')

    g4_change('威士忌')
})

// select al
$( ".select" ).change(function() {
    $(".select").find(":selected").each(function() {
        // console.log( )
        wordChart(this.value,'ptt',$(".g4_select").val())
        
        g4_change(this.value)

        g4_2_change(this.value)
        
    })
})

function g4_change(al_type){
    // console.log(1)
    $( ".g4_select").change(function() {
        $(".g4_select").find(":selected").each(function() {
            console.log(this.value)

            wordChart(al_type,$(".g4_2_select").val(),this.value)
        })
    })
}
function g4_2_change(al_type){
    // console.log(1)
    $( ".g4_2_select").change(function() {
        $(".g4_2_select").find(":selected").each(function() {
            // console.log(this.value)
            console.log(al_type,this.value,$(".g4_select").val())
            wordChart(al_type,this.value,$(".g4_select").val())
        })
    })

}

function format_word_data(word_data){
    var new_word_data = []
    for (var key in word_data){
        new_word_data.push({name: key,value: parseInt(word_data[key])})
    }
    return new_word_data
}

function wordChart(al_type,social_media,week){
    var option4 = {
        tooltip: {},
        series: [ {
            type: 'wordCloud',
            gridSize: 1,
            drawOutOfBound: true,
            sizeRange: [12, 36],
            rotationRange: [-90, 90],
            shape: 'pentagon',
            width: 400,
            height: 200,
            drawOutOfBound: true,
            textStyle: {
                color: function () {
                    return 'rgb(' + [
                        Math.round(Math.random() * 160),
                        Math.round(Math.random() * 160),
                        Math.round(Math.random() * 160)
                    ].join(',') + ')';
                }
            },
            emphasis: {
                textStyle: {
                    shadowBlur: 10,
                    shadowColor: '#333'
                }
            },
            data: format_word_data(cloud_countruct_data[al_type][social_media][week])
        } ]
    };

    chart4.setOption(option4);
}


window.onresize = chart4.resize;